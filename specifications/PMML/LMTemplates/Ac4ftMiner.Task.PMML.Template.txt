<?xml version="1.0"?>
<PMML version="4.0" xmlns="http://www.dmg.org/PMML-4_0" 
xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
xmlns:pmml="http://www.dmg.org/PMML-4_0"
xsi:schemaLocation="http://www.dmg.org/PMML-4_0 http://sewebar.vse.cz/schemas/PMML4.0+GUHA0.1.xsd">

<!-- Ac4ftMiner.Task.PMML.Template, version of 2010-11-30 -->

	<Header copyright="Copyright (c) KIZI UEP">
		<Extension name="metabase" value="<?LM:System:Metabase?>"/>
	  	<Extension name="dataset" value="<?LM:MB:Task.Matrix?>"/>
		<Extension name="author" value="<?LM:System:User?>"/>
		<Extension name="subsystem" value="<?LM:System:Subsystem?>"/>
		<Extension name="module" value="<?LM:System:Module?>"/>
		<Extension name="format" value="Ac4ftMiner.Task"/>
		<Application name="LISp-Miner" version="<?LM:System:Version?>"/>
		<Annotation><?LM:MB:Task.Description?></Annotation>
		<Timestamp><?LM:MB:Task.GenerationStartTime?></Timestamp>
	</Header>

<!-- Matrix -->

	<DataDictionary numberOfFields="<?LM:MB:Task.Attribute#Count?>">
		<?LM:Loop:Task.Attribute?>
		<DataField 
			name="<?LM:MB:Task.Attribute?>" 
			optype="<?LM:MB:Task.Attribute.Cardinality?>" 
//			attributeType="<?LM:MB:Task.Attribute.AttributeSubType?>"
			dataType="<?LM:MB:Task.Attribute.ValueSubType?>"
		>
			<?LM:IFF:Task.Attribute.Cardinality:Cardinal?>
			<Extension name="Avg" value="<?LM:MB:Task.Attribute.ValueAvg?>" extender="Avg"/>
			<?LM:IFF:Task.Attribute.ValueVariability:-1:Not?>
			<Extension name="StDev" value="<?LM:MB:Task.Attribute.ValueVariability?>" extender="StDev"/>
			<?LM:EndIFF:Task.Attribute.ValueVariability?>
            <Interval leftMargin="<?LM:MB:Task.Attribute.ValueMin?>" rightMargin="<?LM:MB:Task.Attribute.ValueMax?>" closure="closedClosed"/>			
			<?LM:EndIFF:Task.Attribute.Cardinality?>
		</DataField>
		<?LM:EndLoop:Task.Attribute?>
	</DataDictionary>

<!-- Attributes -->

	<TransformationDictionary>
		<?LM:Loop:Task.Quantity?>
		<DerivedField 
			name= "<?LM:MB:Task.Quantity?>"
			dataType="string" 
			<?LM:IFF:Task.Quantity.DerivedFieldTransformation:MapValues?>
			optype="ordinal"
			<?LM:EndIFF:Task.Quantity.DerivedFieldTransformation?>
			<?LM:IFF:Task.Quantity.DerivedFieldTransformation:Discretize?>
			optype="continuous"
			<?LM:EndIFF:Task.Quantity.DerivedFieldTransformation?>
		>
//			<!-- MapValue -->
			<?LM:IFF:Task.Quantity.DerivedFieldTransformation:MapValues?>
			<MapValues outputColumn="<?LM:MB:Task.Quantity?>"
				<?LM:IFF:Task.Quantity.IncludeNULLCategory::Not?>
				mapMissingTo="<?LM:MB:Task.Quantity.IncludeNULLCategory?>"
				<?LM:EndIFF:Task.Quantity.IncludeNULLCategory?>
			>
				<FieldColumnPair column="<?LM:MB:Task.Quantity.Attribute?>" field="<?LM:MB:Task.Quantity?>"/>
				<InlineTable>
					<?LM:Loop:Task.Quantity.Category?>
					<Extension name="Frequency" value="<?LM:MB:Task.Quantity.Category.Frequency?>" extender="<?LM:MB:Task.Quantity.Category?>"/>
					<?LM:EndLoop:Task.Quantity.Category?>
					<?LM:Loop:Task.Quantity.Category?>
					<?LM:Loop:Task.Quantity.Category.Enum?>
					<row>
						<column><?LM:MB:Task.Quantity.Category.Enum?></column>
						<field><?LM:MB:Task.Quantity.Category?></field>
					</row>
					<?LM:EndLoop:Task.Quantity.Category.Enum?>
//					<!-- NULL -->
					<?LM:IFF:Task.Quantity.Category.IncludeNULL:Yes?>
					<row>
						<column>NULL</column>
						<field><?LM:MB:Task.Quantity.Category?></field>
					</row>
					<?LM:EndIFF:Task.Quantity.Category.IncludeNULL?>
					<?LM:EndLoop:Task.Quantity.Category?>
				</InlineTable>
			</MapValues>
			<?LM:EndIFF:Task.Quantity.DerivedFieldTransformation?>
//			<!-- Discretize -->
			<?LM:IFF:Task.Quantity.DerivedFieldTransformation:Discretize?>
			<Discretize field="<?LM:MB:Task.Quantity.Attribute?>"
				<?LM:IFF:Task.Quantity.IncludeNULLCategory::Not?>
				mapMissingTo="<?LM:MB:Task.Quantity.IncludeNULLCategory?>"
				<?LM:EndIFF:Task.Quantity.IncludeNULLCategory?>
			>
				<?LM:Loop:Task.Quantity.Category?>
				<DiscretizeBin binValue="<?LM:MB:Task.Quantity.Category?>">
					<Extension name="Frequency" value="<?LM:MB:Task.Quantity.Category.Frequency?>" extender="<?LM:MB:Task.Quantity.Category?>"/>
					<?LM:IFF:Task.Quantity.Category.CategorySubType:Interval?>
						<?LM:Loop:Task.Quantity.Category.Interval?>
						<Interval 
						  closure="<?LM:MB:Task.Quantity.Category.Interval.Closure?>" 
						  leftMargin="<?LM:MB:Task.Quantity.Category.Interval.FromValue?>" 
						  rightMargin="<?LM:MB:Task.Quantity.Category.Interval.ToValue?>" 
						/>
						<?LM:EndLoop:Task.Quantity.Category.Interval?>
					<?LM:EndIFF:Task.Quantity.Category.CategorySubType?>
//					<!-- Enum -->
					<?LM:IFF:Task.Quantity.Category.CategorySubType:Enumeration?>
					<?LM:Loop:Task.Quantity.Category.Enum?>
					<Interval closure="closedClosed" leftMargin="<?LM:MB:Task.Quantity.Category.Enum?>" rightMargin="<?LM:MB:Task.Quantity.Category.Enum?>"/>
					<?LM:EndLoop:Task.Quantity.Category.Enum?>
					<?LM:EndIFF:Task.Quantity.Category.CategorySubType?>
//					<!-- NULL -->
					<?LM:IFF:Task.Quantity.Category.IncludeNULL:Yes?>
					<Extension name="Enumeration" value="NULL"/>
					<?LM:EndIFF:Task.Quantity.Category.IncludeNULL?>
				</DiscretizeBin>
				<?LM:EndLoop:Task.Quantity.Category?>
			</Discretize>
			<?LM:EndIFF:Task.Quantity.DerivedFieldTransformation?>

		</DerivedField>
		<?LM:EndLoop:Task.Quantity?>
	</TransformationDictionary>

<!-- Task -->

	<guha:Ac4ftModel xmlns="" xsi:schemaLocation="http://keg.vse.cz/ns/GUHA0.1rev1 http://sewebar.vse.cz/schemas/GUHA0.1rev1.xsd"
			  xmlns:guha="http://keg.vse.cz/ns/GUHA0.1rev1"
			  modelName="<?LM:MB:Task?>" 
			  functionName="associationRules" 
			  algorithmName="Ac4ft"
			  numberOfTransactions="<?LM:MB:Task.Matrix.RecordCount?>" 
			  numberOfCategories="<?LM:MB:Task.TotalCategories?>" 
			  numberOfRules="<?LM:MB:Task.Hypothesis#Count?>"
	>
		<TaskSetting>
    		 <Extension name="LIS-Miner">
			<TaskGroup><?LM:MB:Task.TaskGroup?></TaskGroup>
			<NumberOfVerifications><?LM:MB:Task.GenerationNrOfTests?></NumberOfVerifications>
			<TaskStartTime><?LM:MB:Task.GenerationStartTime?></TaskStartTime>
			<TaskDuration><?LM:MB:Task.GenerationTime?></TaskDuration>
//			<DFMissingsType><?LM:MB:Task.MissingsType?></DFMissingsType>
//			<JoinedSetFlag><?LM:MB:Task.JoinedSet?></JoinedSetFlag>
			<StrictDisjunctionFlag><?LM:MB:Task.StrictDisjunction?></StrictDisjunctionFlag>
			<StrictActionFlag><?LM:MB:Task.StrictAction?></StrictActionFlag>
			<HypothesesCountMax><?LM:MB:Task.HypothesesCountMax?></HypothesesCountMax>
			<TaskNotice><?LM:MB:Task.Notice?></TaskNotice>
		 </Extension>

//			<!-- FTLiteralD -->
			<BBASettings>
			<?LM:Loop:Task.FTCedentD?>
			<?LM:Loop:Task.FTCedentD.LiteralD?>
				<BBASetting 
				   id="Basic_FTLiteralD_<?LM:MB:Task.FTCedentD.LiteralD.LiteralDID?>">
				   <Name><?LM:MB:Task.FTCedentD.LiteralD?></Name>
				   <FieldRef><?LM:MB:Task.FTCedentD.LiteralD.Quantity?></FieldRef>
//				   <FieldRef><?LM:MB:Task.FTCedentD.LiteralD.Quantity.Attribute?></FieldRef>
					<Coefficient>
					 <Type><?LM:MB:Task.FTCedentD.LiteralD.CoefficientType?></Type>
					 <MinimalLength><?LM:MB:Task.FTCedentD.LiteralD.MinLen?></MinimalLength>
					 <MaximalLength><?LM:MB:Task.FTCedentD.LiteralD.MaxLen?></MaximalLength>
					</Coefficient>
//					<Extension name="CedentType" value="<?LM:MB:Task.FTCedentD.CedentType?>"/>
//					<Extension name="LiteralPosition" value=<?LM:MB:Task.FTCedentD.LiteralD.Ord?>"/>
					<LiteralType><?LM:MB:Task.FTCedentD.LiteralD.LiteralType?></LiteralType>
					<EquivalenceClass><?LM:MB:Task.FTCedentD.LiteralD.EquivalenceClass?></EquivalenceClass>

				</BBASetting>
			<?LM:EndLoop:Task.FTCedentD.LiteralD?>
			<?LM:EndLoop:Task.FTCedentD?>
			</BBASettings>

			<DBASettings>
//			<!-- FTLiteralD: Sign (Gace) -->
			<?LM:Loop:Task.FTCedentD?>			
			<?LM:Loop:Task.FTCedentD.LiteralD?>
				<DBASetting id="Derived_FTLiteralD_Sign_<?LM:MB:Task.FTCedentD.LiteralD.LiteralDID?>" 
					type="Literal">
					<Name><?LM:MB:Task.FTCedentD.LiteralD?></Name>
					<BASettingRef>Basic_FTLiteralD_<?LM:MB:Task.FTCedentD.LiteralD.LiteralDID?></BASettingRef>
					<LiteralSign><?LM:MB:Task.FTCedentD.LiteralD.GaceType?></LiteralSign>
					<LiteralType><?LM:MB:Task.FTCedentD.LiteralD.LiteralType?></LiteralType>
					<EquivalenceClass><?LM:MB:Task.FTCedentD.LiteralD.EquivalenceClass?></EquivalenceClass>				   
				</DBASetting>
			<?LM:EndLoop:Task.FTCedentD.LiteralD?>
			<?LM:EndLoop:Task.FTCedentD?>

//			<!-- FTCedentD: Conj, Disj, Len -->
			<?LM:Loop:Task.FTCedentD?>
			<?LM:IFF:Task.FTCedentD.LiteralD#Count:0:Not?>
				<DBASetting 
					id="Derived_FTCedentD_<?LM:MB:Task.FTCedentD.CedentDID?>"
					type="<?LM:MB:Task.FTCedentD.BoolOpType?>"
				>
					<Name><?LM:MB:Task.FTCedentD?></Name>
					<?LM:Loop:Task.FTCedentD.LiteralD?>
					<BASettingRef>Derived_FTLiteralD_Sign_<?LM:MB:Task.FTCedentD.LiteralD.LiteralDID?></BASettingRef>
					<?LM:EndLoop:Task.FTCedentD.LiteralD?>
					<MinimalLength><?LM:MB:Task.FTCedentD.MinLen?></MinimalLength>
					<MaximalLength><?LM:MB:Task.FTCedentD.MaxLen?></MaximalLength>
				</DBASetting>
			<?LM:EndIFF:Task.FTCedentD.LiteralD#Count?>
			<?LM:EndLoop:Task.FTCedentD?>

//			<!-- FTCedentBagD: TotalLen -->
			<?LM:Loop:Task.FTCedentBagD?>
			<?LM:IFF:Task.FTCedentBagD.LiteralCount:0:Not?>
				<DBASetting id="Derived_FTCedentBagD_<?LM:MB:Task.FTCedentBagD.FTCedentBagDID?>" type="Conjunction">
					<Name><?LM:MB:Task.FTCedentBagD?></Name>
					<?LM:Loop:Task.FTCedentBagD.FTCedentD?>
					<BASettingRef>Derived_FTCedentD_<?LM:MB:Task.FTCedentBagD.FTCedentD.CedentDID?></BASettingRef>
					<?LM:EndLoop:Task.FTCedentBagD.FTCedentD?>
					<MinimalLength><?LM:MB:Task.FTCedentBagD.MinLen?></MinimalLength>
					<MaximalLength><?LM:MB:Task.FTCedentBagD.MaxLen?></MaximalLength>
				</DBASetting>
			<?LM:EndIFF:Task.FTCedentBagD.LiteralCount?>
			<?LM:EndLoop:Task.FTCedentBagD?>

			</DBASettings>

//			<!-- Antecedent, Succedent, AntecedentVar, SuccedentVar, Condition -->

			<AntecedentSetting>Derived_FTCedentBagD_<?LM:MB:Task.FTAntecedentBagD.FTCedentBagDID?></AntecedentSetting>
			<ConsequentSetting>Derived_FTCedentBagD_<?LM:MB:Task.FTSuccedentBagD.FTCedentBagDID?></ConsequentSetting>
			<AntecedentVarSetting>Derived_FTCedentBagD_<?LM:MB:Task.FTAntecedentVarBagD.FTCedentBagDID?></AntecedentVarSetting>
			<ConsequentVarSetting>Derived_FTCedentBagD_<?LM:MB:Task.FTSuccedentVarBagD.FTCedentBagDID?></ConsequentVarSetting>
			<ConditionSetting>Derived_FTCedentBagD_<?LM:MB:Task.FTConditionBagD.FTCedentBagDID?></ConditionSetting>

			<InterestMeasureSetting>
				<?LM:Loop:Task.Quantifier?>
				<InterestMeasureThreshold id="<?LM:MB:Task.Quantifier.AFQuantifierID?>">
					<Extension name="ShortName"><?LM:MB:Task.Quantifier.AFQuantifierType.ShortName?></Extension>
					<Extension name="Description"><?LM:MB:Task.Quantifier.AFQuantifierType.Notice?></Extension>
					<Extension name="Order"><?LM:MB:Task.Quantifier.Ord?></Extension>		
					<?LM:IFF:Task.Quantifier.Threshold:N/A:Not?>
					<InterestMeasure><?LM:MB:Task.Quantifier.AFQuantifierType?></InterestMeasure>
					<SourceType><?LM:MB:Task.Quantifier.ACQuantifierSourceType?></SourceType>			
					<Threshold><?LM:MB:Task.Quantifier.Threshold?></Threshold>						
					<CompareType><?LM:MB:Task.Quantifier.CompareType?></CompareType>
					<?LM:EndIFF:Task.Quantifier.Threshold?>
				</InterestMeasureThreshold>		
				<?LM:EndLoop:Task.Quantifier?>
			</InterestMeasureSetting>
		</TaskSetting>

	<!-- MiningSchema -->

		<pmml:MiningSchema>
		<?LM:Loop:Task.HypothesisAttribute?>
			<pmml:MiningField name="<?LM:MB:Task.HypothesisAttribute?>"/>
		<?LM:EndLoop:Task.HypothesisAttribute?>
		</pmml:MiningSchema>

	<Ac4ftRules>

	<!-- Item a DBA -->
		<?LM:Loop:Task.HypothesisFTLiteralI?>		  
		    <BBA id="BBA_FTLiteralI_<?LM:MB:Task.HypothesisFTLiteralI.LiteralIID?>" literal="false">
			<Text><?LM:MB:Task.HypothesisFTLiteralI?></Text>
			<FieldRef><?LM:MB:Task.HypothesisFTLiteralI.LiteralD.Quantity?></FieldRef>
			<?LM:Loop:Task.HypothesisFTLiteralI.Coefficient?>
			<CatRef><?LM:MB:Task.HypothesisFTLiteralI.Coefficient?></CatRef>
			<?LM:EndLoop:Task.HypothesisFTLiteralI.Coefficient?>
		    </BBA>
		<?LM:EndLoop:Task.HypothesisFTLiteralI?>

//		<!-- BBA: LiteralI -->	
		<?LM:Loop:Task.HypothesisFTLiteralI?>
// IF Literal is negative, literal="true" flag is placed on the DBA to mark that the referenced BBA cannot be thought of as a literal (the default value for DBA is false)
		<?LM:IFF:Task.HypothesisFTLiteralI.Negation:Yes?>
		   <DBA id="DBA_FTLiteralI_Sign_<?LM:MB:Task.HypothesisFTLiteralI.LiteralIID?>" connective="Negation" literal="true">
			<Text><?LM:MB:Task.HypothesisFTLiteralI?></Text>
			<BARef>BBA_FTLiteralI_<?LM:MB:Task.HypothesisFTLiteralI.LiteralIID?></BARef>
		   </DBA>
		<?LM:EndIFF:Task.HypothesisFTLiteralI.Negation?>
		<?LM:IFF:Task.HypothesisFTLiteralI.Negation:No?>
		   <DBA id="DBA_FTLiteralI_Sign_<?LM:MB:Task.HypothesisFTLiteralI.LiteralIID?>" connective="Conjunction" literal="true">
			<Text><?LM:MB:Task.HypothesisFTLiteralI?></Text>
			<BARef>BBA_FTLiteralI_<?LM:MB:Task.HypothesisFTLiteralI.LiteralIID?></BARef>
		   </DBA>
		<?LM:EndIFF:Task.HypothesisFTLiteralI.Negation?>
		<?LM:EndLoop:Task.HypothesisFTLiteralI?>

//		<!-- DBA: Sign (Gace) -->	
		<?LM:Loop:Task.HypothesisFTLiteralI?>
// IF Literal is negative, literal="true" flag is placed on the DBA to mark that the referenced BBA cannot be thought of as a literal (the default value for DBA is false)
		<?LM:IFF:Task.HypothesisFTLiteralI.Negation:Yes?>
		   <DBA id="DBA_FTLiteralI_Sign_<?LM:MB:Task.HypothesisFTLiteralI.LiteralIID?>" connective="Negation" literal="true">
			<Text><?LM:MB:Task.HypothesisFTLiteralI?></Text>
			<BARef>BBA_FTLiteralI_<?LM:MB:Task.HypothesisFTLiteralI.LiteralIID?></BARef>
		   </DBA>
		<?LM:EndIFF:Task.HypothesisFTLiteralI.Negation?>
		<?LM:IFF:Task.HypothesisFTLiteralI.Negation:No?>
		   <DBA id="DBA_FTLiteralI_Sign_<?LM:MB:Task.HypothesisFTLiteralI.LiteralIID?>" connective="Conjunction" literal="true">
			<Text><?LM:MB:Task.HypothesisFTLiteralI?></Text>
			<BARef>BBA_FTLiteralI_<?LM:MB:Task.HypothesisFTLiteralI.LiteralIID?></BARef>
		   </DBA>
		<?LM:EndIFF:Task.HypothesisFTLiteralI.Negation?>
		<?LM:EndLoop:Task.HypothesisFTLiteralI?>

//		<!-- DBA: CedentI -->	
		<?LM:Loop:Task.HypothesisFTCedentI?>
		   <DBA id="DBA_FTCedentI_<?LM:MB:Task.HypothesisFTCedentI.CedentIID?>" connective="<?LM:MB:Task.HypothesisFTCedentI.CedentD.BoolOpType?>">
			<Text><?LM:MB:Task.HypothesisFTCedentI?></Text>
			<?LM:Loop:Task.HypothesisFTCedentI.LiteralI?>
			<BARef>DBA_FTLiteralI_Sign_<?LM:MB:Task.HypothesisFTCedentI.LiteralI.LiteralIID?></BARef>
			<?LM:EndLoop:Task.HypothesisFTCedentI.LiteralI?>
		   </DBA>
		<?LM:EndLoop:Task.HypothesisFTCedentI?>

//		<!-- DBA: CedentBag -->	

		<?LM:Loop:Task.Hypothesis?>
		 <DBA id="DBA_Antecedent_<?LM:MB:Task.Hypothesis.HypothesisID?>" connective="Conjunction">
			 <Text><?LM:MB:Task.Hypothesis.FTAntecedent?></Text>
			 <?LM:Loop:Task.Hypothesis.FTAntecedentBagI?>
			 <BARef>DBA_FTCedentI_<?LM:MB:Task.Hypothesis.FTAntecedentBagI.CedentIID?></BARef>
			 <?LM:EndLoop:Task.Hypothesis.FTAntecedentBagI?>
		 </DBA>
		 <DBA id="DBA_Succedent_<?LM:MB:Task.Hypothesis.HypothesisID?>" connective="Conjunction">
			 <Text><?LM:MB:Task.Hypothesis.FTSuccedent?></Text>
			 <?LM:Loop:Task.Hypothesis.FTSuccedentBagI?>
			 <BARef>DBA_FTCedentI_<?LM:MB:Task.Hypothesis.FTSuccedentBagI.CedentIID?></BARef>
			 <?LM:EndLoop:Task.Hypothesis.FTSuccedentBagI?>
		 </DBA>
		<?LM:IFF:Task.Hypothesis.FTAntecedentVarBeforeBagI#Count:0:Not?>
		 <DBA id="DBA_AntecedentVarBefore_<?LM:MB:Task.Hypothesis.HypothesisID?>" connective="Conjunction">
			<Text><?LM:MB:Task.Hypothesis.FTAntecedentVarBefore?></Text>
			<?LM:Loop:Task.Hypothesis.FTAntecedentVarBeforeBagI?>
			<BARef>DBA_FTCedentI_<?LM:MB:Task.Hypothesis.FTAntecedentVarBeforeBagI.CedentIID?></BARef>
			<?LM:EndLoop:Task.Hypothesis.FTAntecedentVarBeforeBagI?>
		 </DBA>
		<?LM:EndIFF:Task.Hypothesis.FTAntecedentVarBeforeBagI#Count?>
		<?LM:IFF:Task.Hypothesis.FTAntecedentVarAfterBagI#Count:0:Not?>
		 <DBA id="DBA_AntecedentVarAfter_<?LM:MB:Task.Hypothesis.HypothesisID?>" connective="Conjunction">
			<Text><?LM:MB:Task.Hypothesis.FTAntecedentVarAfter?></Text>
			<?LM:Loop:Task.Hypothesis.FTAntecedentVarAfterBagI?>
			<BARef>DBA_FTCedentI_<?LM:MB:Task.Hypothesis.FTAntecedentVarAfterBagI.CedentIID?></BARef>
			<?LM:EndLoop:Task.Hypothesis.FTAntecedentVarAfterBagI?>
		 </DBA>
		<?LM:EndIFF:Task.Hypothesis.FTAntecedentVarAfterBagI#Count?>
		<?LM:IFF:Task.Hypothesis.FTSuccedentVarBeforeBagI#Count:0:Not?>
		 <DBA id="DBA_SuccedentVarBefore_<?LM:MB:Task.Hypothesis.HypothesisID?>" connective="Conjunction">
			<Text><?LM:MB:Task.Hypothesis.FTSuccedentVarBefore?></Text>
			<?LM:Loop:Task.Hypothesis.FTSuccedentVarBeforeBagI?>
			<BARef>DBA_FTCedentI_<?LM:MB:Task.Hypothesis.FTSuccedentVarBeforeBagI.CedentIID?></BARef>
			<?LM:EndLoop:Task.Hypothesis.FTSuccedentVarBeforeBagI?>
		 </DBA>
		<?LM:EndIFF:Task.Hypothesis.FTSuccedentVarBeforeBagI#Count?>
		<?LM:IFF:Task.Hypothesis.FTSuccedentVarAfterBagI#Count:0:Not?>
		 <DBA id="DBA_SuccedentVarAfter_<?LM:MB:Task.Hypothesis.HypothesisID?>" connective="Conjunction">
			<Text><?LM:MB:Task.Hypothesis.FTSuccedentVarAfter?></Text>
			<?LM:Loop:Task.Hypothesis.FTSuccedentVarAfterBagI?>
			<BARef>DBA_FTCedentI_<?LM:MB:Task.Hypothesis.FTSuccedentVarAfterBagI.CedentIID?></BARef>
			<?LM:EndLoop:Task.Hypothesis.FTSuccedentVarAfterBagI?>
		 </DBA>
		<?LM:EndIFF:Task.Hypothesis.FTSuccedentVarAfterBagI#Count?>
		<?LM:IFF:Task.Hypothesis.FTConditionBagI#Count:0:Not?>
		 <DBA id="DBA_Condition_<?LM:MB:Task.Hypothesis.HypothesisID?>" connective="Conjunction">
		  <Text><?LM:MB:Task.Hypothesis.FTCondition?></Text>
		  <?LM:Loop:Task.Hypothesis.FTConditionBagI?>
			<BARef>DBA_FTCedentI_<?LM:MB:Task.Hypothesis.FTConditionBagI.CedentIID?></BARef>
		  <?LM:EndLoop:Task.Hypothesis.FTConditionBagI?>
		 </DBA>
		<?LM:EndIFF:Task.Hypothesis.FTConditionBagI#Count?>
	       <?LM:EndLoop:Task.Hypothesis?>

<!-- Hypothesis -->

		<?LM:Loop:Task.Hypothesis?>
		<Ac4ftRule 
			antecedent="DBA_Antecedent_<?LM:MB:Task.Hypothesis.HypothesisID?>"
			consequent="DBA_Succedent_<?LM:MB:Task.Hypothesis.HypothesisID?>"
			<?LM:IFF:Task.Hypothesis.FTConditionBagI#Count:0:Not?>
			condition="DBA_Condition_<?LM:MB:Task.Hypothesis.HypothesisID?>"
			<?LM:EndIFF:Task.Hypothesis.FTConditionBagI#Count?>
		>
			<Text><?LM:MB:Task.Hypothesis.Name?></Text>
	
//			<!-- InterestMeasures -->
			<?LM:Loop:Task.Hypothesis.InterestMeasure?>
			<IMValue imSettingRef="<?LM:MB:Task.Hypothesis.InterestMeasure.QuantifierID?>" name="<?LM:MB:Task.Hypothesis.InterestMeasure.ShortName?>" sourceMode="<?LM:MB:Task.Hypothesis.InterestMeasure.ACQuantifierSourceType?>"><?LM:MB:Task.Hypothesis.InterestMeasure.Value?></IMValue>
			<?LM:EndLoop:Task.Hypothesis.InterestMeasure?>

			<StateBefore 
				<?LM:IFF:Task.Hypothesis.FTAntecedentVarBeforeBagI#Count:0:Not?>
				antecedentVarBefore="DBA_AntcedentVarBefore_<?LM:MB:Task.Hypothesis.HypothesisID?>"
				<?LM:EndIFF:Task.Hypothesis.FTAntecedentVarBeforeBagI#Count?>
				<?LM:IFF:Task.Hypothesis.FTSuccedentVarBeforeBagI#Count:0:Not?>
			        consequentVarBefore="DBA_SuccedentVarBefore_<?LM:MB:Task.Hypothesis.HypothesisID?>"
				<?LM:EndIFF:Task.Hypothesis.FTSuccedentVarBeforeBagI#Count?>
			>
				<Text><?LM:MB:Task.Hypothesis.StateBefore.Name?></Text>				
//				<!-- Quantifier values -->
				<?LM:Loop:Task.Hypothesis.StateBefore.QuantifierValue?>
				<IMValue name="<?LM:MB:Task.Hypothesis.StateBefore.QuantifierValue.Name?>"><?LM:MB:Task.Hypothesis.StateBefore.QuantifierValue.Value?></IMValue>
				<?LM:EndLoop:Task.Hypothesis.StateBefore.QuantifierValue?>
				<FourFtTable a="<?LM:MB:Task.Hypothesis.StateBefore.FreqA?>" b="<?LM:MB:Task.Hypothesis.StateBefore.FreqB?>" c="<?LM:MB:Task.Hypothesis.StateBefore.FreqC?>" d="<?LM:MB:Task.Hypothesis.StateBefore.FreqD?>"/>
			</StateBefore>
			 
			<StateAfter 				    
				<?LM:IFF:Task.Hypothesis.FTAntecedentVarAfterBagI#Count:0:Not?>
				antecedentVarAfter="DBA_AntcedentVarAfter_<?LM:MB:Task.Hypothesis.HypothesisID?>"
				<?LM:EndIFF:Task.Hypothesis.FTAntecedentVarAfterBagI#Count?>
				<?LM:IFF:Task.Hypothesis.FTSuccedentVarAfterBagI#Count:0:Not?>
			        consequentVarAfter="DBA_SuccedentVarAfter_<?LM:MB:Task.Hypothesis.HypothesisID?>"
				<?LM:EndIFF:Task.Hypothesis.FTSuccedentVarAfterBagI#Count?>
			>
				<Text><?LM:MB:Task.Hypothesis.StateAfter.Name?></Text>				
//				<!-- Quantifier values -->
				<?LM:Loop:Task.Hypothesis.StateAfter.QuantifierValue?>
				<IMValue name="<?LM:MB:Task.Hypothesis.StateAfter.QuantifierValue.Name?>"><?LM:MB:Task.Hypothesis.StateAfter.QuantifierValue.Value?></IMValue>
				<?LM:EndLoop:Task.Hypothesis.StateAfter.QuantifierValue?>
				<FourFtTable a="<?LM:MB:Task.Hypothesis.StateAfter.FreqA?>" b="<?LM:MB:Task.Hypothesis.StateAfter.FreqB?>" c="<?LM:MB:Task.Hypothesis.StateAfter.FreqC?>" d="<?LM:MB:Task.Hypothesis.StateAfter.FreqD?>"/>
			</StateAfter>
			 
		</Ac4ftRule>
		<?LM:EndLoop:Task.Hypothesis?>

	</Ac4ftRules>

</guha:Ac4ftModel>
</PMML>
