<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
	<title>Docs For Class Services_JSON</title>
	<link rel="stylesheet" type="text/css" id="layout" href="../media/layout.css" media="screen">
	<link rel="stylesheet" type="text/css" href="../media/style.css" media="all">
	<link rel="stylesheet" type="text/css" href="../media/print.css" media="print">
</head>

<body>
<div id="header">
	<div id="navLinks">
        
                                                        
                            	        [ <a href="../classtrees_Services_JSON.html">Class Tree: Services_JSON</a> ]
            [ <a href="../elementindex_Services_JSON.html">Index: Services_JSON</a> ]
        		[ <a href="../elementindex.html">All elements</a> ]		
	</div>
	<div id="packagePosition">
		<div id="packageTitle2">Services_JSON</div>
		<div id="packageTitle">Services_JSON</div>
		<div id="elementPath"> &middot; </div>
	</div>
</div>

<div id="nav" class="small">
	<div id="todolist">
			<p><a href="../todolist.html">Todo List</a></p>
	</div>
	<div id="packages">
		Packages:
					<p><a href="../li_default.html">default</a></p>
					<p><a href="../li_Services_JSON.html">Services_JSON</a></p>
			</div>

				<div id="index">
			<div id="files">
								Files:<br>
								<a href="../Services_JSON/_models---JSON.php.html">		JSON.php
		</a><br>
				</div>
			<div id="interfaces">
							</div>
			<div id="classes">
				Classes:<br>
								<a href="../Services_JSON/Services_JSON.html">		Services_JSON
		</a><br>
			<a href="../Services_JSON/Services_JSON_Error.html">		Services_JSON_Error
		</a><br>
				</div>
		</div>
	</div>

<div id="body">
	    		<h1>Class: Services_JSON</h1>
	<p style="margin: 0px;">Source Location: /models/JSON.php</p>
	

<div class="leftcol">
	<h3><a href="#class_details">Class Overview</a> <span class="smalllinenumber">[line 115]</span></h3>
	<div id="classTree"><pre></pre>
</div>
	<div class="small">
	<p>Converts to and from JSON format.</p>
		<h4>Author(s):</h4>
	<ul>
			</ul>
	<h4>Version:</h4>
	<ul>
			</ul>

	<h4>Copyright:</h4>
	<ul>
			</li>
	</div>
</div>

<div class="middlecol">
	<h3><a href="#class_vars">Variables</a></h3>
	<ul class="small">
			</ul>
	<h3><a href="#class_consts">Constants</a></h3>
	<ul class="small">
			</ul>
</div>
<div class="rightcol">
	<h3><a href="#class_methods">Methods</a></h3>
	<ul class="small">
				<li><a href="../Services_JSON/Services_JSON.html#methodServices_JSON">Services_JSON</a></li>
				<li><a href="../Services_JSON/Services_JSON.html#methoddecode">decode</a></li>
				<li><a href="../Services_JSON/Services_JSON.html#methodencode">encode</a></li>
				<li><a href="../Services_JSON/Services_JSON.html#methodisError">isError</a></li>
			</ul>
</div>

<div id="content">
<hr>
	<div class="contents">
	</div>

	<div class="leftCol">
    	<h2>Inherited Variables</h2>
		<h2>Inherited Constants</h2>
		</div>

	<div class="rightCol">
	<h2>Inherited Methods</h2>
		</div>
	<br clear="all">
	<hr>

	<a name="class_details"></a>
	<h2>Class Details</h2>
	<p align="center"><strong>Converts to and from JSON format.
</strong></p>
<p>Brief example of use:</p><p><ol><li><div class="src-line">&nbsp;<span class="src-comm">//&nbsp;create&nbsp;a&nbsp;new&nbsp;instance&nbsp;of&nbsp;Services_JSON</span></div></li>
<li><div class="src-line">&nbsp;<span class="src-var">$json&nbsp;</span>=&nbsp;<span class="src-key">new&nbsp;</span><a href="../Services_JSON/Services_JSON.html#methodServices_JSON">Services_JSON</a><span class="src-sym">(</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;</div></li>
<li><div class="src-line">&nbsp;<span class="src-comm">//&nbsp;convert&nbsp;a&nbsp;complexe&nbsp;value&nbsp;to&nbsp;JSON&nbsp;notation,&nbsp;and&nbsp;send&nbsp;it&nbsp;to&nbsp;the&nbsp;browser</span></div></li>
<li><div class="src-line">&nbsp;<span class="src-var">$value&nbsp;</span>=&nbsp;<span class="src-key">array</span><span class="src-sym">(</span><span class="src-str">'foo'</span><span class="src-sym">,&nbsp;</span><span class="src-str">'bar'</span><span class="src-sym">,&nbsp;</span><span class="src-key">array</span><span class="src-sym">(</span><span class="src-num">1</span><span class="src-sym">,&nbsp;</span><span class="src-num">2</span><span class="src-sym">,&nbsp;</span><span class="src-str">'baz'</span><span class="src-sym">)</span><span class="src-sym">,&nbsp;</span><span class="src-key">array</span><span class="src-sym">(</span><span class="src-num">3</span><span class="src-sym">,&nbsp;</span><span class="src-key">array</span><span class="src-sym">(</span><span class="src-num">4</span><span class="src-sym">)))</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;<span class="src-var">$output&nbsp;</span>=&nbsp;<span class="src-var">$json</span><span class="src-sym">-&gt;</span><a href="../Services_JSON/Services_JSON.html#methodencode">encode</a><span class="src-sym">(</span><span class="src-var">$value</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;</div></li>
<li><div class="src-line">&nbsp;print<span class="src-sym">(</span><span class="src-var">$output</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;<span class="src-comm">//&nbsp;prints:&nbsp;[&quot;foo&quot;,&quot;bar&quot;,[1,2,&quot;baz&quot;],[3,[4]]]</span></div></li>
<li><div class="src-line">&nbsp;</div></li>
<li><div class="src-line">&nbsp;<span class="src-comm">//&nbsp;accept&nbsp;incoming&nbsp;POST&nbsp;data,&nbsp;assumed&nbsp;to&nbsp;be&nbsp;in&nbsp;JSON&nbsp;notation</span></div></li>
<li><div class="src-line">&nbsp;<span class="src-var">$input&nbsp;</span>=&nbsp;<a href="http://www.php.net/file_get_contents">file_get_contents</a><span class="src-sym">(</span><span class="src-str">'php://input'</span><span class="src-sym">,&nbsp;</span><span class="src-num">1000000</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
<li><div class="src-line">&nbsp;<span class="src-var">$value&nbsp;</span>=&nbsp;<span class="src-var">$json</span><span class="src-sym">-&gt;</span><a href="../Services_JSON/Services_JSON.html#methoddecode">decode</a><span class="src-sym">(</span><span class="src-var">$input</span><span class="src-sym">)</span><span class="src-sym">;</span></div></li>
</ol></p>	<p class="small" style="color: #334B66;">[ <a href="#top">Top</a> ]</p>

	<hr>
	<a name="class_vars"></a>
	<h2>Class Variables</h2>
	
	<hr>
	<a name="class_methods"></a>
	<h2>Class Methods</h2>
	
	<a name="methodServices_JSON"></a>
	<p></p>
	<h3>Services_JSON</h3>
	<div class="indent">
		<p>
		<code>Services_JSON Services_JSON(
[int
$use = 0])</code>
		</p>
	
		<p class="linenumber">[line 133]</p>
		<p align="center"><strong>constructs a new JSON instance
</strong></p>
		
	
	<h4>Parameters:</h4>
	<ul>
			<li>
		<span class="type">int</span>
		<b>$use</b> 
		- 
		<p>object behavior flags; combine with boolean-OR</p><p>possible values: <ul><li>SERVICES_JSON_LOOSE_TYPE:  loose typing.
                                   &quot;{...}&quot; syntax creates associative arrays
                                   instead of objects in decode().</li><li>SERVICES_JSON_SUPPRESS_ERRORS:  error suppression.
                                   Values which can't be encoded (e.g. resources)
                                   appear as NULL instead of throwing errors.
                                   By default, a deeply-nested resource will
                                   bubble up with an error, so all return values
                                   from encode() should be checked with isError()</li></ul></p></li>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="methoddecode"></a>
	<p></p>
	<h3>decode</h3>
	<div class="indent">
		<p>
		<code>mixed decode(
string
$str)</code>
		</p>
	
		<p class="linenumber">[line 484]</p>
		<p align="center"><strong>decodes a JSON string into appropriate variable
</strong></p>
<h4>Tags:</h4>
<ul>
	<li><b>return</b> - number, boolean, string, array, or object                    corresponding to given JSON input string.                    See argument 1 to Services_JSON() above for object-output behavior.                    Note that decode() always returns strings                    in ASCII or UTF-8 format!</li>
	<li><b>access</b> - public</li>
</ul>
		
	
	<h4>Parameters:</h4>
	<ul>
			<li>
		<span class="type">string</span>
		<b>$str</b> 
		- 
		JSON-formatted string</li>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="methodencode"></a>
	<p></p>
	<h3>encode</h3>
	<div class="indent">
		<p>
		<code>mixed encode(
mixed
$var)</code>
		</p>
	
		<p class="linenumber">[line 237]</p>
		<p align="center"><strong>encodes an arbitrary variable into JSON format
</strong></p>
<h4>Tags:</h4>
<ul>
	<li><b>return</b> - JSON string representation of input var or an error if a problem occurs</li>
	<li><b>access</b> - public</li>
</ul>
		
	
	<h4>Parameters:</h4>
	<ul>
			<li>
		<span class="type">mixed</span>
		<b>$var</b> 
		- 
		any number, boolean, string, array, or object to be encoded.                            see argument 1 to Services_JSON() above for array-parsing behavior.                            if var is a strng, note that encode() always expects it                            to be in ASCII or UTF-8 format!</li>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>
	<a name="methodisError"></a>
	<p></p>
	<h3>isError</h3>
	<div class="indent">
		<p>
		<code>void isError(

$data, [
$code = null])</code>
		</p>
	
		<p class="linenumber">[line 766]</p>
		<h4>Tags:</h4>
<ul>
	<li><b>todo</b> - Ultimately, this should just call PEAR::isError()</li>
</ul>
		
	
	<h4>Parameters:</h4>
	<ul>
			<li>
		<span class="type"></span>
		<b>$data</b> 
		- 
		</li>
			<li>
		<span class="type"></span>
		<b>$code</b> 
		- 
		</li>
		</ul>
	</div>
	<p class="top">[ <a href="#top">Top</a> ]</p>

	<hr>
	<a name="class_consts"></a>
	<h2>Class Constants</h2>
	</div>
	<div id="credit">
		<hr>
		Documentation generated on Wed, 16 Mar 2011 12:39:16 +0100 by <a href="http://www.phpdoc.org">phpDocumentor 1.4.3</a>
	</div>
</div>
</body>
</html>