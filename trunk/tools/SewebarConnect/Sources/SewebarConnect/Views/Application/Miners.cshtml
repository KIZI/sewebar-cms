@using System.EnterpriseServices
@using SewebarConnect

@model object

@{
	ViewBag.Title = "title";
	Layout = "~/Views/Shared/_Layout.cshtml";
}

<h1>Registered LISp Miners</h1>
<h2>Environment</h2>
<dl>
	<dt>BaseDirectory</dt>
	<dd>@System.AppDomain.CurrentDomain.BaseDirectory</dd>

	<dt>Data Path</dt>
	<dd>@Path.GetFullPath(MvcApplication.Environment.DataPath)</dd>

	<dt>LM path</dt>
	<dd>@Path.GetFullPath(MvcApplication.Environment.LMPath)</dd>

	<dt>LM Pool path</dt>
	<dd>@Path.GetFullPath(MvcApplication.Environment.LMPoolPath)</dd>
</dl>

@if (MvcApplication.Environment.ExistingMiners.Count > 0)
{
	<h3>Existing miners</h3>
	<ol>
		@foreach (var miner in MvcApplication.Environment.Miners)
		{
			string shared = miner.SharedPool ? "shared" : "non-shared";
			
			<li class="@shared">
				<a href="@Url.Action("Miner", new {guid = miner})">@miner.Id</a>&nbsp;(<a href="@Url.Action("Remove", new { guid = miner.Id })" class="ajax">Remove</a>)
			</li>
        }
	</ol>
}
